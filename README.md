# Assignment4

ì›í‹°ë“œxìœ„ì½”ë“œ ë°±ì—”ë“œ í”„ë¦¬ì˜¨ë³´ë”© ê³¼ì œ4
- ê³¼ì œ ì¶œì œ ê¸°ì—… ì •ë³´
  - ê¸°ì—…ëª… : 8í¼ì„¼íŠ¸
  -  [8í¼ì„¼íŠ¸ ì‚¬ì´íŠ¸](https://8percent.kr/)
  - [ì›í‹°ë“œ ì±„ìš© ë§í¬](https://www.wanted.co.kr/wd/64695)

## Members
|ì´ë¦„   |github                   |ë‹´ë‹¹ ê¸°ëŠ¥|
|-------|-------------------------|--------------------|
|ê¹€íƒœìš° |[jotasic](https://github.com/jotasic)       | API(ê±°ë˜ë‚´ì—­)                           |
|ê³ ìœ ì˜ |[lunayyko](https://github.com/lunayyko)     | API(íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ), ë°°í¬í™˜ê²½ì„¤ì •  |
|ë°•ì§€ì› |[jiwon5304](https://github.com/jiwon5304)   | API(íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ)             |
|ìµœì‹ í˜ |[shchoi94](https://github.com/shchoi94)     | API(ê³„ì¢Œìƒì„±, ê³„ì¢Œëª©ë¡ì¡°íšŒ, ì…ê¸ˆ, ì¶œê¸ˆ), swagger ì„¸íŒ…|
|ë°•ì„¸ì› |[sw-develop](https://github.com/sw-develop) | API(ê±°ë˜ë‚´ì—­), Functional Test         |

## ê³¼ì œ ë‚´ìš©

### [í•„ìˆ˜ í¬í•¨ ì‚¬í•­]

- READ.ME ì‘ì„±
    - í”„ë¡œì íŠ¸ ë¹Œë“œ, ìì„¸í•œ ì‹¤í–‰ ë°©ë²• ëª…ì‹œ
    - êµ¬í˜„ ë°©ë²•ê³¼ ì´ìœ ì— ëŒ€í•œ ê°„ëµí•œ ì„¤ëª…
    - ì™„ë£Œëœ ì‹œìŠ¤í…œì´ ë°°í¬ëœ ì„œë²„ì˜ ì£¼ì†Œ
    - Swaggerë‚˜ Postmanì„ í†µí•œ API í…ŒìŠ¤íŠ¸í• ë•Œ í•„ìš”í•œ ìƒì„¸ ë°©ë²•
    - í•´ë‹¹ ê³¼ì œë¥¼ ì§„í–‰í•˜ë©´ì„œ íšŒê³  ë‚´ìš© ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…
- Swaggerë‚˜ Postmanì„ ì´ìš©í•˜ì—¬ API í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„

> ğŸ“ â€œê³„ì¢Œ ê±°ë˜ APIâ€ë¥¼ êµ¬í˜„í•´ì£¼ì„¸ìš”. APIëŠ” 3ê°€ì§€ê°€ êµ¬í˜„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.


 **âœ”ï¸ API ëª©ë¡**
---
- ê±°ë˜ë‚´ì—­ ì¡°íšŒ API
- ì…ê¸ˆ API
- ì¶œê¸ˆ API

**âœ”ï¸ ì£¼ìš” ê³ ë ¤ ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.**
---
- ê³„ì¢Œì˜ ì”ì•¡ì„ ë³„ë„ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ë©°, ê³„ì¢Œì˜ ì”ì•¡ê³¼ ê±°ë˜ë‚´ì—­ì˜ ì”ì•¡ì˜ ë¬´ê²°ì„±ì˜ ë³´ì¥
- DBë¥¼ ì„¤ê³„ í• ë•Œ ê° ì¹¼ëŸ¼ì˜ íƒ€ì…ê³¼ ì œì•½

**âœ”ï¸ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ë¶€ë¶„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.**
---
- ë¬¸ì œì™€ ê´€ë ¨ë˜ì§€ ì•Šì€ ë¶€ê°€ì ì¸ ì •ë³´. ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ì í…Œì´ë¸”ì˜ ì´ë©”ì¼, ì£¼ì†Œ, ì„±ë³„ ë“±
- í”„ë¡ íŠ¸ì•¤ë“œ ê´€ë ¨ ë¶€ë¶„

**âœ”ï¸  ì œì•½ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.**
---
- (**8í¼ì„¼íŠ¸ê°€ ì§ì ‘ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì›í•˜ëŠ” ê²½ìš°ë¥¼ ìœ„í•´**) í…ŒìŠ¤íŠ¸ì˜ í¸ì˜ì„±ì„ ìœ„í•´ mysql, postgresql ëŒ€ì‹  sqlliteë¥¼ ì‚¬ìš©í•´ ì£¼ì„¸ìš”.

**âœ”ï¸  ìƒì„¸ì„¤ëª…**
---
**1)** ê±°ë˜ë‚´ì—­ ì¡°íšŒ **API**

- ì•„ë˜ì™€ ê°™ì€ ì¡°íšŒ í™”ë©´ì—ì„œ ì‚¬ìš©ë˜ëŠ” APIë¥¼ ê³ ë ¤í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
    

ê±°ë˜ë‚´ì—­ APIëŠ” ë‹¤ìŒì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤.
- ê³„ì¢Œì˜ ì†Œìœ ì£¼ë§Œ ìš”ì²­ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
- ê±°ë˜ì¼ì‹œì— ëŒ€í•œ í•„í„°ë§ì´ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤.
- ì¶œê¸ˆ, ì…ê¸ˆë§Œ ì„ íƒí•´ì„œ í•„í„°ë§ì„ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
- Paginationì´ í•„ìš” í•©ë‹ˆë‹¤.
- ë‹¤ìŒ ì‚¬í•­ì´ ì‘ë‹µì— í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
    - ê±°ë˜ì¼ì‹œ
    - ê±°ë˜ê¸ˆì•¡
    - ì”ì•¡
    - ê±°ë˜ì¢…ë¥˜ (ì¶œê¸ˆ/ì…ê¸ˆ)
    - ì ìš”

**2)** ì…ê¸ˆ **API**

ì…ê¸ˆ APIëŠ” ë‹¤ìŒì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤.
- ê³„ì¢Œì˜ ì†Œìœ ì£¼ë§Œ ìš”ì²­ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

**3)** ì¶œê¸ˆ **API**
ì¶œê¸ˆ APIëŠ” ë‹¤ìŒì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤.
- ê³„ì¢Œì˜ ì†Œìœ ì£¼ë§Œ ìš”ì²­ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
- ê³„ì¢Œì˜ ì”ì•¡ë‚´ì—ì„œë§Œ ì¶œê¸ˆ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì”ì•¡ì„ ë„˜ì–´ì„  ì¶œê¸ˆ ìš”ì²­ì— ëŒ€í•´ì„œëŠ” ì ì ˆí•œ ì—ëŸ¬ì²˜ë¦¬ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

**4)** ê°€ì‚°ì 
ë‹¤ìŒì˜ ê²½ìš° ê°€ì‚°ì ì´ ìˆìŠµë‹ˆë‹¤.
- Unit testì˜ êµ¬í˜„
- Functional Test ì˜ êµ¬í˜„ (ì…ê¸ˆ, ì¡°íšŒ, ì¶œê¸ˆì— ëŒ€í•œ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸)
- ê±°ë˜ë‚´ì—­ì´ 1ì–µê±´ì„ ë„˜ì–´ê°ˆ ë•Œì— ëŒ€í•œ ê³ ë ¤
    - ì´ë¥¼ ê³ ë ¤í•˜ì—¬ ì–´ë–¤ ì„¤ê³„ë¥¼ ì¶”ê°€í•˜ì…¨ëŠ”ì§€ë¥¼ READMEì— ë‚¨ê²¨ ì£¼ì„¸ìš”.

## ì‚¬ìš© ê¸°ìˆ  ë° tools
> - Back-End :  <img src="https://img.shields.io/badge/Python 3.8-3776AB?style=for-the-badge&logo=Python&logoColor=white"/>&nbsp;<img src="https://img.shields.io/badge/Django 3.2-092E20?style=for-the-badge&logo=Django&logoColor=white"/>&nbsp;<img src="https://img.shields.io/badge/sqlite-0064a5?style=for-the-badge&logo=sqlite&logoColor=white"/>&nbsp;
> - Deploy : <img src="https://img.shields.io/badge/AWS_EC2-232F3E?style=for-the-badge&logo=Amazon&logoColor=white"/>&nbsp;<img src="https://img.shields.io/badge/Docker-0052CC?style=for-the-badge&logo=Docker&logoColor=white"/>
> - ETC :  <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"/>&nbsp;<img src="https://img.shields.io/badge/Github-181717?style=for-the-badge&logo=Github&logoColor=white"/>&nbsp;<img src="https://img.shields.io/badge/SWAGGER-5B8C04?style=for-the-badge&logo=Swagger&logoColor=white"/>&nbsp;

## ëª¨ë¸ë§
---
![image](https://user-images.githubusercontent.com/8219812/141481348-01525848-e996-4477-9b1f-e1a63ed016a2.png)


## API
---
[ë§í¬-Swagger](http://18.188.189.173:8031/swagger/)

## êµ¬í˜„ ê¸°ëŠ¥
---
1. íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ
- ì»¤ìŠ¤í…€ ìœ ì €ëª¨ë¸ ìƒì„±, username ëŒ€ì‹  emailì„ ì‚¬ìš©
- rest_auth ì‚¬ìš©, ë¡œê·¸ì¸ ì‹œ í† í° ìƒì„±
2. ì…ê¸‰, ì¶œê¸ˆ API
- ê³„ì¢Œì˜ ì†Œìœ ì£¼ë§Œ ê³„ì¢Œì—ì„œ ì…ê¸ˆ, ì¶œê¸ˆ 
- ì”ì•¡ì„ ë„˜ì–´ì„œ ì¶œê¸ˆ ìš”ì²­ì„ í•˜ë©´ ì—ëŸ¬ ë©”ì„¸ì§€ ë°˜í™˜
3. ê±°ë˜ ë‚´ì—­ ì¡°íšŒ API
- ê³„ì¢Œì˜ ì†Œìœ ì£¼ë§Œ ê±°ë˜ ë‚´ì—­ ì¡°íšŒ ê°€ëŠ¥
- ì…ê¸ˆ, ì¶œê¸ˆë§Œ ì„ íƒí•´ì„œ í•„í„°ë§
- ê±°ë˜ì¼ì‹œë³„ë¡œ ì¡°íšŒê¸°ê°„ì„ ì •í•´ì„œ í•„í„°ë§ 
- Pagination

## ê±°ë˜ë‚´ì—­ì´ 1ì–µê±´ì„ ë„˜ì–´ê°ˆ ë•Œì— ëŒ€í•œ ê³ ë ¤
### sqlite ì„¤ì •
```python
from django.db.backends.signals import connection_created


def activate_db_optimize(sender, connection, **kwargs):
    """Enable integrity constraint with sqlite."""
    if connection.vendor == 'sqlite':
        cursor = connection.cursor()
        cursor.execute('PRAGMA synchronous = OFF;')
        cursor.execute('PRAGMA journal_mode = MEMORY;')
        cursor.execute('PRAGMA cache_size = 10000;')
        cursor.execute('PRAGMA temp_store = MEMORY;')
        

connection_created.connect(activate_db_optimize)
```

## ë°°í¬ì •ë³´
---
|êµ¬ë¶„   |  ì •ë³´          |ë¹„ê³ |
|-------|----------------|----|
|ë°°í¬í”Œë«í¼ | AWS EC2    |    |
|API ì£¼ì†Œ | http://18.188.189.173:8031/            |    |


## API TEST ë°©ë²•
1. ìš°ì¸¡ ë§í¬ë¥¼ í´ë¦­í•´ì„œ postmanìœ¼ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤. [ë§í¬](https://www.postman.com/wecode-21-1st-kaka0/workspace/assignment4)

2. ì •ì˜ëœ SERVER_URLì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸ í•©ë‹ˆë‹¤. (18.188.189.173:8031)


3. ë§Œì•½ Sendë²„íŠ¼ì´ ë¹„í™œì„±í™”ê°€ ë  ì‹œ forkë¥¼ ì´ìš©í•´ì„œ í•´ë‹¹ postman projectë¥¼ ë³µì‚¬í•´ì„œ ì‹œë„í•˜ê¸¸ ë°”ëë‹ˆë‹¤.
![image](https://user-images.githubusercontent.com/8219812/139912241-d6cb5831-23e8-4cbb-a747-f52c42601098.png)


## ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•
###  Local ê°œë°œ ë° í…ŒìŠ¤íŠ¸ìš©

1. í•´ë‹¹í”„ë¡œì íŠ¸ë¥¼ clone í•˜ê³ , í”„ë¡œì íŠ¸ í´ë”ë¡œ ë“¤ì–´ê°„ë‹¤.
    ```bash
    git clone https://github.com/Wanted-Preonboarding-Backend-1st-G5/Assignment4
    cd Assignment4
    ```

2. ê°€ìƒ í™˜ê²½ì„ ë§Œë“¤ê³  í”„ë¡œì íŠ¸ì— ì‚¬ìš©í•œ python packageë¥¼ ë°›ëŠ”ë‹¤.
    ```bash
    conda create --name Assignment4 python=3.8
    conda actvate Assignment4
    pip install -r requirements.txt
    ```

3. Django SECRET_KEYìš© í™˜ê²½ ë³€ìˆ˜ë¥¼ ë“±ë¡í•œë‹¤.
   ```bash
      export DJANGO_SECRET_KEY='djangoì‹œí¬ë¦¿í‚¤'
    ```

4. dbë¥¼ table êµ¬ì¡°ë¥¼ ìµœì‹  modelì— ë§ê²Œ ì„¤ì •í•œë‹¤.
    ```bash
    python manage.py migrate
    ```

5. ì„œë²„ë¥¼ ì‹¤í–‰í•œë‹¤.
    ```bash
    python manage.py runserver 0.0.0.0:8000
    ```

###  ë°°í¬ìš© 
1. í•´ë‹¹í”„ë¡œì íŠ¸ë¥¼ clone í•˜ê³ , í”„ë¡œì íŠ¸ í´ë”ë¡œ ë“¤ì–´ê°„ë‹¤.
    ```bash
    git clone https://github.com/Wanted-Preonboarding-Backend-1st-G5/Assignment4
    cd Assignment4
    ```

2. dockerí™˜ê²½ ì„¤ì • íŒŒì¼ì„ ë§Œë“ ë‹¤.

  
3. ë°±ì—”ë“œ ì„œë²„ìš© .dockerenv.deploy.backend íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ì•ˆì— ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ì…ë ¥í•œë‹¤. manage.pyì™€ ê°™ì€ í´ë”ì— ìƒì„±í•œë‹¤.
    ### .dockerenv.deploy.backend
    ```text
      DJANGO_SECRET_KEY='djangoì‹œí¬ë¦¿í‚¤'
    ```
       
4. docker-composeë¥¼ í†µí•´ì„œ dbì™€ ì„œë²„ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.
    
    ```bash
    docker-compose -f docker-compose-deploy.yml up
    ```
    
5. ë§Œì•½ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ê³  ì‹¶ì„ ì‹œ `-d` ì˜µì…˜ì„ ì¶”ê°€í•œë‹¤.
  
    ```bash
    docker-compose -f docker-compose-deploy.yml up -d
    ```

## í´ë” êµ¬ì¡°

```bash
ğŸ“¦Assignment4
 â”£ ğŸ“‚accounts
 â”ƒ â”£ ğŸ“‚migrations
 â”ƒ â”£ ğŸ“‚tests
 â”ƒ â”ƒ â”£ ğŸ“œ__init__.py
 â”ƒ â”ƒ â”£ ğŸ“œtests_account.py
 â”ƒ â”ƒ â”£ ğŸ“œtests_deposit.py
 â”ƒ â”ƒ â”£ ğŸ“œtests_tradelog.py
 â”ƒ â”ƒ â”— ğŸ“œtests_withdrawal.py
 â”ƒ â”£ ğŸ“œ__init__.py
 â”ƒ â”£ ğŸ“œadmin.py
 â”ƒ â”£ ğŸ“œapps.py
 â”ƒ â”£ ğŸ“œexceptions.py
 â”ƒ â”£ ğŸ“œfilters.py
 â”ƒ â”£ ğŸ“œmanagers.py
 â”ƒ â”£ ğŸ“œmodels.py
 â”ƒ â”£ ğŸ“œpermissions.py
 â”ƒ â”£ ğŸ“œserializers.py
 â”ƒ â”£ ğŸ“œurls.py
 â”ƒ â”— ğŸ“œviews.py
 â”£ ğŸ“‚eight_percent
 â”ƒ â”£ ğŸ“‚settings
 â”ƒ â”ƒ â”£ ğŸ“œ__init__.py
 â”ƒ â”ƒ â”£ ğŸ“œbase.py
 â”ƒ â”ƒ â”£ ğŸ“œdeploy.py
 â”ƒ â”ƒ â”£ ğŸ“œdev_local.py
 â”ƒ â”ƒ â”— ğŸ“œdev_local_dblog.py
 â”ƒ â”£ ğŸ“œ__init__.py
 â”ƒ â”£ ğŸ“œasgi.py
 â”ƒ â”£ ğŸ“œurls.py
 â”ƒ â”— ğŸ“œwsgi.py
 â”£ ğŸ“‚users
 â”ƒ â”£ ğŸ“‚migrations
 â”ƒ â”£ ğŸ“œ__init__.py
 â”ƒ â”£ ğŸ“œadmin.py
 â”ƒ â”£ ğŸ“œapps.py
 â”ƒ â”£ ğŸ“œmodels.py
 â”ƒ â”£ ğŸ“œpermissions.py
 â”ƒ â”£ ğŸ“œserializers.py
 â”ƒ â”£ ğŸ“œtests.py
 â”ƒ â”£ ğŸ“œurls.py
 â”ƒ â”— ğŸ“œviews.py
 â”£ ğŸ“œdocker-compose-depoly.yml
 â”£ ğŸ“œREADME.md
 â”£ ğŸ“œmanage.py
 â”£ ğŸ“œpull_request_template.md
 â”— ğŸ“œrequirements.txt
```

## TILì •ë¦¬ (Blog)
- ê¹€íƒœìš° : 
- ê³ ìœ ì˜ :
- ë°•ì§€ì› : 
- ìµœì‹ í˜ :
- ë°•ì„¸ì› :

# Reference
ì´ í”„ë¡œì íŠ¸ëŠ” ì›í‹°ë“œxìœ„ì½”ë“œ ë°±ì—”ë“œ í”„ë¦¬ì˜¨ë³´ë”© ê³¼ì œ ì¼í™˜ìœ¼ë¡œ 8í¼ì„¼íŠ¸ì—ì„œ ì¶œì œí•œ ê³¼ì œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
